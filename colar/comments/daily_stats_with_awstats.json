{"author":"Guest (Guest)",
"title":"My 2 cents.",
"text":"Hello, I've been using awstats for some years now and have a suggestion for viewing \"Daily\" stats from within the native AWStats browser page. I've added code to the awstats.pl file. Between lines 173 and 174 Ive added:\n\n \n\n################################################################\n#Added code for \"day\" or \"Month\" reporting?\n\nif ( $ENV{QUERY_STRING} ne '') {\n my $file = $ENV{QUERY_STRING};\n my ($one, $two, $three, $four, $five, $six, $seven) = split (/&/, $file);\n my ($month1, $month2) = split (/=/, $one);\n my ($day1, $day) = split (/=/, $two);\n my ($year1, $year2) = split (/=/, $three);\n\n #$DatabaseBreak='day';\n if ($day ne 'all')\n {\n $DatabaseBreak='day';\n }\n}\n\n$myawstatsver  = 'awstats70';\n\n ################################################################\n\n \n\nand between lines ~9888 and 9889 I've added:\n\n \n\n##############################################################################################################\n   #Modification added By John Ridgway: Added \"Day\" pulldown to html page that only lists days for existing data\n   #Also adds \"- Full Month ? \" option to see regular monthly output\n\n    print \"<select class=\\\"aws_formfield\\\" name=\\\"day\\\">\\n\";\n\n    my $Diritem = \"\";\n\n    my $file = $ENV{QUERY_STRING};\n    my ($one, $two, $three, $four, $five, $six, $seven) = split (/&/, $file);\n    my ($month1, $month2) = split (/=/, $one);\n    my ($day1, $day) = split (/=/, $two);\n    my ($year1, $year2) = split (/=/, $three);\n    my ($reportname1, $reportname2) = split(/=/, $five);\n    my $FullMonth = \"\";\n\n    if ($AllowFullYearView >= 2) {\n     print \"<option value=\\\"all\\\">- Full Month -</option>\\n\";\n    }\n\n    if ($day eq 'all') {\n     my $FullMonth = $day;\n    }\n\n    foreach (1..9) {\n    if (! DateIsValid($_,$month2,$year2)) { next; }\n\n     my $daynum = \"0\".$_;\n     my $checkfile = \"E:\\\\\".$myawstatsver.\"\\\\\".$reportname2.\"\\\\awstats\".$month2.$year2.$daynum.\".\".$reportname2.\".txt\";\n     #my $dayix=sprintf(\"%02s\",$_);\n     if (-e $checkfile) {print \"<option\".(\"$daynum\" eq \"$day\"?\" selected=\\\"true\\\"\":\"\").\" value=\\\"$daynum\\\">$daynum</option>\\n\"}; #if -e $checkfile;\n    }\n\n    foreach (10..31) {\n    if (! DateIsValid($_,$month2,$year2)) { next; }\n\n     my $daynum = $_;\n     my $checkfile = \"E:\\\\\".$myawstatsver.\"\\\\\".$reportname2.\"\\\\awstats\".$month2.$year2.$daynum.\".\".$reportname2.\".txt\";\n     #my $dayix=sprintf(\"%02s\",$_);\n     if (-e $checkfile) {print \"<option\".(\"$daynum\" eq \"$day\"?\" selected=\\\"true\\\"\":\"\").\" value=\\\"$daynum\\\">$daynum</option>\\n\"}; #if -e $checkfile;\n    }\n\n    if ($FullMonth eq 'all') {print \"<option value=\\\"$day\\\">$day</option>\\n\"};\n\n   #\n   #\n   ##############################################################################################################\n\n \n\nDon't know if this is helpful to anyone or if it's already been done, but it works for me.",
"ts":"2011-05-19T11:08:00-07:00 Los_Angeles"}
